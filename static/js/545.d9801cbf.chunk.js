"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[545],{545:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(439),i=n(562),o=n.n(i),a=n(791),u=n(643),c=n(689),s=n(184),h=function(e){var t=e.onSubmit,n=(0,a.useState)(""),i=(0,r.Z)(n,2),u=i[0],c=i[1];return(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==u.trim()?(t(u),c("")):o().Notify.failure("Enter data in the search field")},children:[(0,s.jsx)("button",{type:"submit",children:"Search"}),(0,s.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:u,onChange:function(e){c(e.currentTarget.value.toLowerCase())}})]})},l=n(388);var f=n(87),d=function(e){var t=e.movies,n=(0,c.TH)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{children:"Search Movies"}),t.length>0&&(0,s.jsx)("ul",{children:t.map((function(e){var t=e.id,r=e.title;return(0,s.jsx)("li",{children:(0,s.jsx)(f.rU,{to:"".concat(t),state:{from:n},children:(0,s.jsx)("p",{children:r})})},t)}))})]})},m=function(){var e=(0,a.useState)(""),t=(0,r.Z)(e,2),n=t[0],i=t[1],f=(0,a.useState)([]),m=(0,r.Z)(f,2),v=m[0],p=m[1],g=(0,a.useState)(!1),x=(0,r.Z)(g,2),j=x[0],y=x[1],b=(0,c.s0)();return(0,a.useEffect)((function(){var e;n&&(y(!0),(e=n,l.Z.get("https://api.themoviedb.org/3/search/movie?api_key=cbd8d541379b4f719065dc7272b2c5fd&query=".concat(e)).then((function(e){return e.data.results.map((function(e){return{id:e.id,title:e.title}}))}))).then((function(e){e&&b("/movies?query=".concat(n),{replace:!0}),y(!1),e.length?p(e):o().Notify.failure("Sorry, there are no images matching your search query.Please try again.")})).catch((function(){o().Notify.failure("Something went wrong...")})))}),[b,n]),(0,s.jsxs)("main",{children:[(0,s.jsx)("h1",{children:"Movies"}),(0,s.jsx)(h,{onSubmit:function(e){i(e),p([])}}),j?(0,s.jsx)(u.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0}):(0,s.jsx)(d,{movies:v})]})}}}]);
//# sourceMappingURL=545.d9801cbf.chunk.js.map